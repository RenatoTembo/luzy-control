!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}(self.webpackChunkKamiKaze=self.webpackChunkKamiKaze||[]).push([[326],{3326:function(e,a,o){"use strict";o.d(a,{H:function(){return q}});var i=o(6304),r=o(8194),l=o(454),u=o(7085),c=o(1457),s=o(529),d=o(7238),g=o(8619),p=o(2693),Z=function(){var e=function(){function e(n){t(this,e),this.http=n,this.url=s.N.ApiServerUrl,this.param=new URLSearchParams}return n(e,[{key:"ngOnInit",value:function(){}},{key:"allAcessoCod",value:function(t){return this.http.get("".concat(this.url,"v1/acesso/by-codigo/").concat(t))}},{key:"allPsApartamento",value:function(t){return this.http.post("".concat(this.url,"v1/pessoa/by-apartamento"),t)}},{key:"allAcessoPessoa",value:function(t){return this.http.post("".concat(this.url,"v1/acesso/by-pessoa"),t)}},{key:"salvarPes",value:function(t){var e;return null===t.id?e=this.http.post(this.url+"/v1/pessoa/add",t):t.id>0&&(e=this.http.put(this.url+"/v1/pessoa/update",t)),e}},{key:"salvarAcesso",value:function(t){var e;return null===t.id?e=this.http.post(this.url+"/v1/acesso/add",t):t.id>0&&(e=this.http.put(this.url+"/v1/acesso/update",t)),e}},{key:"saveFile",value:function(t,e){var n=new FormData;return n.append("file",t),n.append("nome",e),t?this.http.post("".concat(this.url,"v1/arquivo"),n):null}},{key:"getPessoa",value:function(t,e){return this.http.get("".concat(this.url,"v1/pessoa/by-nome/").concat(t,"/").concat(e))}},{key:"getAll",value:function(){return this.http.get("".concat(this.url,"v1/condominio"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.LFG(p.eN))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),f=o(1116),h=o(1462);function m(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.qZA(),g.TgZ(9,"td"),g._uU(10),g.qZA(),g.TgZ(11,"td",24),g.TgZ(12,"div",25),g.TgZ(13,"i",26),g.NdJ("click",function(){var t=g.CHM(n).$implicit;return g.oxw().editar(t)}),g.qZA(),g._UZ(14,"i",27),g._UZ(15,"i",28),g.qZA(),g.qZA(),g.qZA()}if(2&t){var a=e.$implicit;g.xp6(2),g.Oqu(a.codigo),g.xp6(2),g.Oqu(a.visitante.nome),g.xp6(2),g.Oqu(a.visitante.contacto),g.xp6(2),g.Oqu(a.validade),g.xp6(2),g.Oqu(a.pessoa.nome)}}var v=function(){var e=function(){function e(n){t(this,e),this.adms=n,this.acessos=[],this.ac=(0,r.cloneDeep)(u.wE)}return n(e,[{key:"ngOnInit",value:function(){this.getAll()}},{key:"add",value:function(){this.ac=(0,r.cloneDeep)(u.wE),this.ac.pessoa=(0,d.g_)("panel")}},{key:"salvar",value:function(t){var e=this;t.validade=t.validade+":00",this.adms.salvarAcesso(t).subscribe(function(t){e.getAll(),(0,c.Mr)("#md-acesso .md-close")})}},{key:"editar",value:function(t){this.ac=(0,r.cloneDeep)(t),this.ac.id=null,this.ac.validade=this.ac.validade.split(":")[0]+":"+this.ac.validade.split(":")[1]}},{key:"getAll",value:function(){var t=this;this.adms.allAcessoPessoa((0,d.g_)("panel")).subscribe(function(e){t.acessos=e})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(Z))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-lib-acesso"]],decls:58,vars:6,consts:[["data-toggle","modals","data-target","#md-acesso",1,"btn","btn-outline-primary","bi","bi-plus","md",2,"margin-top","-40px",3,"click"],[1,"card-body","p-0","card-body-table"],[1,"table","table-sm","table-bordered"],[2,"text-align","center","width","40px"],[1,"bi","bi-grip-horizontal"],[4,"ngFor","ngForOf"],["id","md-acesso",1,"modal","modal-static"],[1,"modal-content",2,"max-width","400px"],[1,"modal-title"],[1,"md-close","close"],[1,"modal-body"],[1,"label-float","label-15"],["type","text","required","",3,"ngModel","ngModelChange"],[1,"flabel"],[1,"row-inline","label-15"],[1,"label-float"],[3,"ngModel","ngModelChange"],["selected","","value","Masculino"],["value","Femenino"],["type","text",3,"ngModel","ngModelChange"],["type","time","required","",3,"ngModel","ngModelChange"],[1,"modal_footer"],[1,"md-close","btn","btn-default"],[1,"btn","btn-outline-primary",3,"click"],[2,"text-align","center"],[1,"option"],["data-toggle","modals","data-target","#md-acesso",1,"bi","bi-pencil-square","md",3,"click"],[1,"bi","bi-plus-square"],[1,"bi","bi-trash"]],template:function(t,e){1&t&&(g.TgZ(0,"button",0),g.NdJ("click",function(){return e.add()}),g._uU(1," Add"),g.qZA(),g.TgZ(2,"div",1),g.TgZ(3,"table",2),g.TgZ(4,"thead"),g.TgZ(5,"tr"),g.TgZ(6,"th"),g._uU(7,"C\xf3digo"),g.qZA(),g.TgZ(8,"th"),g._uU(9,"Nome"),g.qZA(),g.TgZ(10,"th"),g._uU(11,"Contacto"),g.qZA(),g.TgZ(12,"th"),g._uU(13,"Hora / Data"),g.qZA(),g.TgZ(14,"th"),g._uU(15,"Liberou"),g.qZA(),g.TgZ(16,"th",3),g._UZ(17,"i",4),g.qZA(),g.qZA(),g.qZA(),g.TgZ(18,"tbody"),g.YNc(19,m,16,5,"tr",5),g.qZA(),g.qZA(),g.qZA(),g.TgZ(20,"div",6),g.TgZ(21,"div",7),g.TgZ(22,"i",8),g._uU(23,"Cadastro de Morador"),g.qZA(),g.TgZ(24,"i",9),g._uU(25,"\xd7"),g.qZA(),g.TgZ(26,"div",10),g.TgZ(27,"div",11),g.TgZ(28,"input",12),g.NdJ("ngModelChange",function(t){return e.ac.visitante.nome=t}),g.qZA(),g.TgZ(29,"label",13),g._uU(30,"Nome"),g.qZA(),g.qZA(),g.TgZ(31,"div",14),g.TgZ(32,"div",15),g.TgZ(33,"select",16),g.NdJ("ngModelChange",function(t){return e.ac.visitante.genero=t}),g.TgZ(34,"option",17),g._uU(35,"Masculino"),g.qZA(),g.TgZ(36,"option",18),g._uU(37,"Femenino"),g.qZA(),g.qZA(),g.TgZ(38,"label",13),g._uU(39,"G\xe9nero"),g.qZA(),g.qZA(),g.TgZ(40,"div",15),g.TgZ(41,"input",12),g.NdJ("ngModelChange",function(t){return e.ac.visitante.contacto=t}),g.qZA(),g.TgZ(42,"label",13),g._uU(43,"Contacto"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(44,"div",14),g.TgZ(45,"div",15),g.TgZ(46,"input",19),g.NdJ("ngModelChange",function(t){return e.ac.ligarPara=t}),g.qZA(),g.TgZ(47,"label",13),g._uU(48,"Ligar Para"),g.qZA(),g.qZA(),g.TgZ(49,"div",15),g.TgZ(50,"input",20),g.NdJ("ngModelChange",function(t){return e.ac.validade=t}),g.qZA(),g.TgZ(51,"label",13),g._uU(52,"Validade"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(53,"div",21),g.TgZ(54,"button",22),g._uU(55,"Cancelar"),g.qZA(),g.TgZ(56,"button",23),g.NdJ("click",function(){return e.salvar(e.ac)}),g._uU(57,"Salvar"),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t&&(g.xp6(19),g.Q6J("ngForOf",e.acessos),g.xp6(9),g.Q6J("ngModel",e.ac.visitante.nome),g.xp6(5),g.Q6J("ngModel",e.ac.visitante.genero),g.xp6(8),g.Q6J("ngModel",e.ac.visitante.contacto),g.xp6(5),g.Q6J("ngModel",e.ac.ligarPara),g.xp6(4),g.Q6J("ngModel",e.ac.validade))},directives:[f.sg,h.Fj,h.Q7,h.JJ,h.On,h.EJ,h.YN,h.Kr],styles:[""]}),e}();function b(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"tr"),g.TgZ(1,"td"),g._uU(2),g.qZA(),g.TgZ(3,"td"),g._uU(4),g.qZA(),g.TgZ(5,"td"),g._uU(6),g.qZA(),g.TgZ(7,"td"),g._uU(8),g.qZA(),g.TgZ(9,"td",42),g.TgZ(10,"div",43),g.TgZ(11,"i",44),g.NdJ("click",function(){var t=g.CHM(n).$implicit;return g.oxw().editar(t)}),g.qZA(),g._UZ(12,"i",45),g._UZ(13,"i",46),g.qZA(),g.qZA(),g.qZA()}if(2&t){var a=e.$implicit;g.xp6(2),g.Oqu(a.nome),g.xp6(2),g.Oqu(a.genero),g.xp6(2),g.Oqu(a.contacto),g.xp6(2),g.Oqu(a.email)}}function A(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",30),g.TgZ(1,"input",47),g.NdJ("ngModelChange",function(t){return g.CHM(n),g.oxw().ps.senha=t}),g.qZA(),g.TgZ(2,"label",24),g._uU(3,"Senha"),g.qZA(),g._UZ(4,"i",48),g.qZA()}if(2&t){var a=g.oxw();g.xp6(1),g.Q6J("ngModel",a.ps.senha)}}var q=function(){var e=function(){function e(n){t(this,e),this.adms=n,this.pessoas=[],this.ps=(0,r.cloneDeep)(u.fV),this.srcp=s.N.src+"condo-1.jpg",this.fileName="",this.podelogar=!1}return n(e,[{key:"ngOnInit",value:function(){this.getAll()}},{key:"check",value:function(t){var e=this;setTimeout(function(){e.podelogar=t.checked},200)}},{key:"addImage",value:function(t){var e=this,n=t.target.files[0];n?(this.filesSelected=null,(0,c.Kp)(t.target.files[0],1e3,(0,c.hr)(t.target.files[0])).then(function(t){var a,o=new FileReader;o.readAsDataURL(t),o.onload=(a=(0,i.Z)(regeneratorRuntime.mark(function t(a){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.e3)(a.target.result,n.name,(0,c.nK)(a.target.result));case 2:o=t.sent,e.filesSelected=o,e.ps.imagem=a.target.result,e.fileName=(0,c.hr)(o);case 4:case"end":return t.stop()}},t)})),function(t){return a.apply(this,arguments)})})):(0,l.Kp)("Nenhum ficheiro foi selecionado.",6e3)}},{key:"salvar",value:function(t){var e=this;setTimeout(function(){e.adms.salvarPes(t).subscribe(function(t){void 0!==e.filesSelected?e.adms.saveFile(e.filesSelected,t.nome+"."+e.fileName).subscribe(function(t){e.ps=(0,r.cloneDeep)(u.fV),e.ps.imagem=e.srcp,e.getAll(),(0,c.Mr)("#md-morador .md-close")}):(e.ps.imagem=e.srcp,e.getAll(),(0,c.Mr)("#md-morador .md-close"))})},250)}},{key:"editar",value:function(t){this.ps=(0,r.cloneDeep)(t),this.ps.apartamento=(0,d.g_)("panel").apartamento}},{key:"add",value:function(){this.ps=(0,r.cloneDeep)(u.fV),this.ps.apartamento=(0,d.g_)("panel").apartamento}},{key:"getAll",value:function(){var t=this;this.adms.allPsApartamento((0,d.g_)("panel").apartamento).subscribe(function(e){t.pessoas=e,(0,d.uG)(e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(Z))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-add-pessoa"]],decls:82,vars:8,consts:[[1,"col-12","col-sm-12"],[1,"card","card-primary","card-outline","card-outline-tabs"],[1,"card-header","p-0","border-bottom-0"],["id","custom-tabs-four-tab","role","tablist",1,"nav","nav-tabs"],[1,"nav-item"],["id","custom-tabs-four-apartamento-tab","data-toggle","pill","href","#custom-tabs-four-apartamento","role","tab","aria-controls","custom-tabs-four-apartamento","aria-selected","true",1,"nav-link","active"],["id","custom-tabs-four-profile-tab","data-toggle","pill","href","#custom-tabs-four-profile","role","tab","aria-controls","custom-tabs-four-profile","aria-selected","false",1,"nav-link"],[1,"card-body"],["id","custom-tabs-four-tabContent",1,"tab-content"],["id","custom-tabs-four-apartamento","role","tabpanel","aria-labelledby","custom-tabs-four-apartamento-tab",1,"tab-pane","fade","show","active",2,"background","transparent"],["data-toggle","modals","data-target","#md-morador",1,"btn","btn-outline-primary","bi","bi-plus","md",2,"margin-top","-40px",3,"click"],[1,"card-body","p-0","card-body-table"],[1,"table","table-sm","table-bordered"],[2,"text-align","center","width","40px"],[1,"bi","bi-grip-horizontal"],[4,"ngFor","ngForOf"],["id","custom-tabs-four-profile","role","tabpanel","aria-labelledby","custom-tabs-four-profile-tab",1,"tab-pane","fade",2,"background","transparent"],["id","md-morador",1,"modal","modal-static"],[1,"modal-content",2,"max-width","400px"],[1,"modal-title"],[1,"md-close","close"],[1,"modal-body"],[1,"label-float","label-15"],["type","text","required","",3,"ngModel","ngModelChange"],[1,"flabel"],[1,"row-inline","label-15"],[1,"label-float",2,"margin-top","2px"],[3,"ngModel","ngModelChange"],["selected","","value","Masculino"],["value","Femenino"],[1,"label-float"],[1,"form-group",2,"margin-top","10px","cursor","pointer"],[1,"custom-control","custom-switch","custom-switch-off-danger","custom-switch-on-success"],["type","checkbox","id","customSwitch3",1,"custom-control-input",2,"cursor","pointer",3,"checked"],["chec",""],["for","customSwitch3",1,"custom-control-label",2,"cursor","pointer",3,"click"],["class","label-float",4,"ngIf"],["value","Propriet\xe1rio"],["value","Outro"],[1,"modal_footer"],[1,"md-close","btn","btn-default"],[1,"btn","btn-outline-primary",3,"click"],[2,"text-align","center"],[1,"option"],["data-toggle","modals","data-target","#md-morador",1,"bi","bi-pencil-square","md",3,"click"],[1,"bi","bi-plus-square"],[1,"bi","bi-trash"],["type","password",3,"ngModel","ngModelChange"],[1,"bi","bi-eye-slash-fill"]],template:function(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"ul",3),g.TgZ(4,"li",4),g.TgZ(5,"a",5),g._uU(6,"Moradores Interno"),g.qZA(),g.qZA(),g.TgZ(7,"li",4),g.TgZ(8,"a",6),g._uU(9,"Liberar Acesso"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"div",7),g.TgZ(11,"div",8),g.TgZ(12,"div",9),g.TgZ(13,"button",10),g.NdJ("click",function(){return e.add()}),g._uU(14," Add"),g.qZA(),g.TgZ(15,"div",11),g.TgZ(16,"table",12),g.TgZ(17,"thead"),g.TgZ(18,"tr"),g.TgZ(19,"th"),g._uU(20,"Nome"),g.qZA(),g.TgZ(21,"th"),g._uU(22,"G\xe9nero"),g.qZA(),g.TgZ(23,"th"),g._uU(24,"Contacto"),g.qZA(),g.TgZ(25,"th"),g._uU(26,"Email"),g.qZA(),g.TgZ(27,"th",13),g._UZ(28,"i",14),g.qZA(),g.qZA(),g.qZA(),g.TgZ(29,"tbody"),g.YNc(30,b,14,4,"tr",15),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(31,"div",16),g._UZ(32,"app-lib-acesso"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(33,"div",17),g.TgZ(34,"div",18),g.TgZ(35,"i",19),g._uU(36,"Cadastro de Morador"),g.qZA(),g.TgZ(37,"i",20),g._uU(38,"\xd7"),g.qZA(),g.TgZ(39,"div",21),g.TgZ(40,"div",22),g.TgZ(41,"input",23),g.NdJ("ngModelChange",function(t){return e.ps.nome=t}),g.qZA(),g.TgZ(42,"label",24),g._uU(43,"Nome"),g.qZA(),g.qZA(),g.TgZ(44,"div",25),g.TgZ(45,"div",26),g.TgZ(46,"select",27),g.NdJ("ngModelChange",function(t){return e.ps.genero=t}),g.TgZ(47,"option",28),g._uU(48,"Masculino"),g.qZA(),g.TgZ(49,"option",29),g._uU(50,"Femenino"),g.qZA(),g.qZA(),g.TgZ(51,"label",24),g._uU(52,"G\xe9nero"),g.qZA(),g.qZA(),g.TgZ(53,"div",30),g.TgZ(54,"input",23),g.NdJ("ngModelChange",function(t){return e.ps.contacto=t}),g.qZA(),g.TgZ(55,"label",24),g._uU(56,"Contacto"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(57,"div",22),g.TgZ(58,"input",23),g.NdJ("ngModelChange",function(t){return e.ps.email=t}),g.qZA(),g.TgZ(59,"label",24),g._uU(60,"E-mail"),g.qZA(),g.qZA(),g.TgZ(61,"div",31),g.TgZ(62,"div",32),g._UZ(63,"input",33,34),g.TgZ(65,"label",35),g.NdJ("click",function(){g.CHM(n);var t=g.MAs(64);return e.check(t)}),g._uU(66,"Pode acessar o painel ?"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(67,"div",25),g.YNc(68,A,5,1,"div",36),g.TgZ(69,"div",26),g.TgZ(70,"select",27),g.NdJ("ngModelChange",function(t){return e.ps.tipo=t}),g.TgZ(71,"option",37),g._uU(72,"Propriet\xe1rio"),g.qZA(),g.TgZ(73,"option",38),g._uU(74,"Outro"),g.qZA(),g.qZA(),g.TgZ(75,"label",24),g._uU(76,'Tipo "Propriet\xe1rio, Outro"'),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(77,"div",39),g.TgZ(78,"button",40),g._uU(79,"Cancelar"),g.qZA(),g.TgZ(80,"button",41),g.NdJ("click",function(){return e.salvar(e.ps)}),g._uU(81,"Salvar"),g.qZA(),g.qZA(),g.qZA(),g.qZA()}2&t&&(g.xp6(30),g.Q6J("ngForOf",e.pessoas),g.xp6(11),g.Q6J("ngModel",e.ps.nome),g.xp6(5),g.Q6J("ngModel",e.ps.genero),g.xp6(8),g.Q6J("ngModel",e.ps.contacto),g.xp6(4),g.Q6J("ngModel",e.ps.email),g.xp6(5),g.Q6J("checked",e.podelogar),g.xp6(5),g.Q6J("ngIf",1==e.podelogar),g.xp6(2),g.Q6J("ngModel",e.ps.tipo))},directives:[f.sg,v,h.Fj,h.Q7,h.JJ,h.On,h.EJ,h.YN,h.Kr,f.O5],styles:[""]}),e}()},1457:function(t,e,n){"use strict";function a(t,e,n){return a=URL.createObjectURL(t),o={width:e,heigth:e,type:"image/"+n},function(t,e){return new Promise(function(n,a){t.src=e,t.completed?n(t):t.addEventListener("load",function(){n(t)}),t.addEventListener("error",a)})}(document.createElement("img"),a).then(function(t){var e=document.createElement("canvas");return o.width&&!o.height?o.height=(null==t?void 0:t.height)*((null==o?void 0:o.width)/t.width):!o.width&&o.height&&(o.width=t.width*(o.height/t.height)),Object.assign(e,o),e.getContext("2d").drawImage(t,0,0,e.width,e.height),new Promise(function(t){e.toBlob(t,o.type||"image/png",o.quality)})});var a,o}function o(t,e,n){return fetch(t).then(function(t){return t.arrayBuffer()}).then(function(t){return new File([t],e,{type:n})})}function i(t){var e=null;if("string"!=typeof t)return e;var n=t.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/);return n&&n.length&&(e=n[1]),e}function r(t){var e=t.type.split("/")[1];return"jpeg"===e?"JPG":e}function l(t){var e=t.split(";")[0].split("/")[1];return"jpeg"===e?"jpg":e}function u(t){var e=document.querySelector(t);null==e||e.click()}n.d(e,{Kp:function(){return a},e3:function(){return o},nK:function(){return i},hr:function(){return r},gU:function(){return l},Mr:function(){return u}})},6304:function(t,e,n){"use strict";function a(t,e,n,a,o,i,r){try{var l=t[i](r),u=l.value}catch(c){return void n(c)}l.done?e(u):Promise.resolve(u).then(a,o)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(o,i){var r=t.apply(e,n);function l(t){a(r,o,i,l,u,"next",t)}function u(t){a(r,o,i,l,u,"throw",t)}l(void 0)})}}n.d(e,{Z:function(){return o}})}}])}();